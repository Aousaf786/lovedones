CREATE TABLE orders (
    id BigInt(20) NOT NULL AUTO_INCREMENT,
    user_id BigInt(20) NOT NULL,
    service_id BigInt(20) NOT NULL,
    employee_id BigInt(20),
    total_price DOUBLE(11, 2) NOT NULL,
    immediate tinyint(1) DEFAULT '0',
    ordered_date TIMESTAMP NOT NULL,
    status tinyint(2) DEFAULT 1,
    address TEXT NOT NULL,
    lat varchar(50),
    lng varchar(50),
    payment_id varchar(191) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (ID),
    CONSTRAINT orders_user_id_foreign FOREIGN KEY (user_id) REFERENCES users(id),
    CONSTRAINT orders_service_id_foreign FOREIGN KEY (service_id) REFERENCES services(id),
    CONSTRAINT orders_employee_id_foreign FOREIGN KEY (employee_id) REFERENCES users(id)
);

ALTER TABLE `orders` CHANGE `service_id` `service_id` BIGINT(20) NULL DEFAULT NULL;